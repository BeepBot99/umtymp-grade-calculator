import{t as m,a as c}from"../chunks/DTHAtLQd.js";import{p as C,s as v,a as E,o as L,u as q,b as z,c as f,d as g,e as h,g as t,r as w,h as H}from"../chunks/DJ6LGtHQ.js";import{d as J}from"../chunks/BeGAVm68.js";import{i as M}from"../chunks/VHjUin_7.js";import{e as O,i as W}from"../chunks/B01Gth87.js";import{r as _,s as D}from"../chunks/BZhXkhGO.js";import{b as A,a as F}from"../chunks/B2EqOQk0.js";import{b as G}from"../chunks/D-oj82j4.js";import{g as K}from"../chunks/Brfk6Bdo.js";var P=m('<button class="btn btn-error btn-square join-item" aria-label="Delete score"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg></button>'),Q=m('<button class="btn btn-success btn-square join-item" aria-label="New score"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"></path></svg></button>'),R=m(`<div class="join"><input type="number" min="0" class="input input-md join-item" placeholder="Score"> <input type="checkbox" class="btn join-item" aria-label="It's late"> <!></div>`),T=m('<fieldset class="fieldset bg-base-200 border-base-300 rounded-box min-h-4/5 overflow-auto border p-4 lg:max-h-110 lg:min-h-1/2"><legend class="fieldset-legend">Written Homework</legend> <!></fieldset>');function se(k,y){C(y,!0);let a=v(E([]));function b(){t(a).push({score:NaN,late:!1})}function S(o){t(a).splice(o,1)}function N(o){var s;(s=document.getElementById(`hw-score-${o+1}`))==null||s.focus()}L(()=>{var s;const o=sessionStorage.getItem("written");h(a,o?JSON.parse(o):[{score:NaN,late:!1}],!0),(s=document.getElementById("hw-score-0"))==null||s.focus(),K.from(t(d),{y:-50,duration:.5,ease:"power2.out"})});let d=v(void 0);q(()=>{sessionStorage.setItem("written",JSON.stringify(t(a)))});var l=T(),j=f(g(l),2);O(j,17,()=>t(a),W,(o,s,r)=>{var u=R(),i=g(u);_(i),D(i,"id",`hw-score-${r??""}`),i.__keydown=async e=>{e.key==="Enter"&&(r===t(a).length-1&&b(),await H(),N(r))};var p=f(i,2);_(p);var x=f(p,2);{var I=e=>{var n=P();n.__click=()=>S(r),c(e,n)},B=e=>{var n=Q();n.__click=b,c(e,n)};M(x,e=>{r<t(a).length-1?e(I):e(B,!1)})}w(u),A(i,()=>t(s).score,e=>t(s).score=e),F(p,()=>t(s).late,e=>t(s).late=e),c(o,u)}),w(l),G(l,o=>h(d,o),()=>t(d)),c(k,l),z()}J(["keydown","click"]);export{se as component};
